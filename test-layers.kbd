(defcfg
  process-unmapped-keys yes
)

(deffakekeys
  ;; win-input swithing
  fake-win-eng (multi lalt lsft 0)
  fake-win-rus (multi lalt lsft 1)
  ;; layer-switching
  fake-lsw-bas (layer-switch U_BASE)
  fake-lsw-qwe (layer-switch U_QWERTY)
)
(defalias
  ;; shorter names for layer switches
  lsw-bas (on-press-fakekey fake-lsw-bas tap)
  lsw-qwe (on-press-fakekey fake-lsw-qwe tap)
  ;; shorter names for win-input swithing
  win-eng (on-press-fakekey fake-win-eng tap)
  win-rus (on-press-fakekey fake-win-rus tap)
  ;; aliases for keyboard switching
  eng (macro @lsw-bas @win-eng)
  rus (macro @lsw-qwe @win-rus)
  ;; Windows back/forward, while switching to English
  wbw (macro @lsw-bas @win-eng A-S-tab)
  wfw (macro @lsw-bas @win-eng A-tab)
  ;; temp nav layer
  nav (layer-while-held U_NAV)
)

(defsrc
  del   j k . /
)

(deflayer U_BASE
  @nav  j k . /
)

(deflayer U_QWERTY
  @nav  j k . /
)

(deflayer U_NAV
  XX    @eng @rus  @wfw @wbw
)

